{"ast":null,"code":"var _jsxFileName = \"/home/dantewanders/Code/Templates/CapstoneTemplate/ui/src/views/Gamemodes/Game/GameTimer.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CircularProgressWithLabel(props) {\n  const {\n    value,\n    duration\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      position: 'relative',\n      display: 'inline-flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n      variant: \"determinate\",\n      ...props,\n      size: \"75px\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0,\n        position: 'absolute',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        component: \"div\",\n        color: \"text.secondary\",\n        fontSize: \"16px\",\n        children: `${Math.round(value * duration) / 100}s`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n}\n_c = CircularProgressWithLabel;\nexport default function GameTimer(props) {\n  _s();\n  const {\n    duration,\n    endGame\n  } = props;\n  const [progress, setProgress] = useState(100);\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setProgress(oldProgress => {\n        // console.log(oldProgress)\n        if (oldProgress <= 0) {\n          endGame();\n          return 0;\n        }\n        const diff = 100 / duration;\n        return Math.min(oldProgress - diff, 100);\n      });\n    }, 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n  if (duration === Infinity) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(CircularProgressWithLabel, {\n      value: progress,\n      duration: duration\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(GameTimer, \"/7XgPcdmDrfoeiaNFvL1LEUveYc=\");\n_c2 = GameTimer;\nvar _c, _c2;\n$RefreshReg$(_c, \"CircularProgressWithLabel\");\n$RefreshReg$(_c2, \"GameTimer\");","map":{"version":3,"names":["useState","useEffect","CircularProgress","Typography","Box","jsxDEV","_jsxDEV","CircularProgressWithLabel","props","value","duration","sx","position","display","children","variant","size","fileName","_jsxFileName","lineNumber","columnNumber","top","left","bottom","right","alignItems","justifyContent","component","color","fontSize","Math","round","_c","GameTimer","_s","endGame","progress","setProgress","timer","setInterval","oldProgress","diff","min","clearInterval","Infinity","width","_c2","$RefreshReg$"],"sources":["/home/dantewanders/Code/Templates/CapstoneTemplate/ui/src/views/Gamemodes/Game/GameTimer.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\n\nfunction CircularProgressWithLabel(props) {\n\n  const {\n    value,\n    duration\n  } = props\n\n  return (\n    <Box sx={{ position: 'relative', display: 'inline-flex' }}>\n      <CircularProgress variant=\"determinate\" {...props} size='75px'/>\n      <Box\n        sx={{\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          position: 'absolute',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Typography variant=\"caption\" component=\"div\" color=\"text.secondary\" fontSize='16px'>\n          {`${Math.round(value*duration)/100}s`}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nexport default function GameTimer(props) {\n\n  const {\n    duration,\n    endGame\n  } = props \n\n  const [progress, setProgress] = useState(100)\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setProgress((oldProgress) => {\n        // console.log(oldProgress)\n        if (oldProgress <= 0) {\n           endGame()\n          return 0\n        }\n        const diff = (100/duration);\n        return Math.min(oldProgress - diff, 100);\n      });\n    }, 1000);\n  \n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  if (duration === Infinity) {\n    return null\n  }\n  return (\n    <Box sx={{ width: '100%' }}>\n      <CircularProgressWithLabel value={progress} duration={duration} />\n    </Box>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}